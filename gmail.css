:root{
    --bg: #171719;
    --bg-elev: #17181b;
    --bg-hover: #a2c3ef;
    --surface: #22252e;
    --text: #e8eaed;
    --subtle: #9aa0a6;
    --accent: #8ab4f8;
    --green: #81c995;
    --border: #3c4043;
    --badge: #1f6feb;
    --shadow: 0 1px 2px rgba(0,0,0,.3), 0 8px 24px rgba(0,0,0,.15);
  }
  
  *{ box-sizing: border-box; }
  html,body{ height:100%; }
  body{
    margin:0;
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    color: var(--text);
    background: var(--bg);
  }
  
  /* App frame */
  .app{ height:100%; display:flex; flex-direction:column; }
  
  /* Top bar */
  .topbar{
    position: sticky; top:0; z-index: 20;
    display:flex; align-items:center; justify-content:space-between;
    gap:16px; padding:8px 12px;
    background: #1f2023;
    border-bottom: 1px solid var(--border);
  }
  .topbar .left{ display:flex; align-items:center; gap:8px; }
  .brand{ display:flex; align-items:center; gap:8px; }
  .brand-icon{ color: #e8710a; }
  .brand-text{ font-weight:600; letter-spacing:.2px; }
  
  .icon-btn{
    display:inline-grid; place-items:center;
    width:36px; height:36px;
    color: var(--subtle); background: transparent;
    border: none; border-radius: 18px; cursor:pointer;
  }
  .icon-btn:hover{ background: var(--bg-hover); color: var(--text); }
  .icon-btn.small{ width:28px; height:28px; border-radius:14px; }
  
  .search{
    flex:1; max-width: 760px;
    display:flex; align-items:center; gap:8px;
    background: var(--surface); border:1px solid var(--border);
    padding:6px 10px; border-radius: 24px;
  }
  .search input{
    flex:1; border:none; outline:none;
    color: var(--text); background: transparent; font-size:14px;
  }
  .search .icon-btn{ width:32px; height:32px; }
  
  .topbar .right{ display:flex; align-items:center; gap:6px; }
  .avatar{
    width:32px; height:32px; border-radius:50%;
    background: linear-gradient(135deg, #8ab4f8, #81c995);
    border: 1px solid var(--border);
  }
  
  
  .layout{
    display:grid; grid-template-columns: 260px 1fr 54px; gap: 0;
    min-height: calc(100vh - 56px);
  }
  
  /* Sidebar */
  .sidebar{
    position: sticky; top:56px; height: calc(100vh - 56px);
    display:flex; flex-direction:column; gap: 10px;
    padding:12px; background: var(--bg);
    border-right: 1px solid var(--border);
  }
  .compose{
    display:flex; align-items:center; gap:10px;
    border:none; cursor:pointer;
    padding:10px 16px; border-radius: 22px;
    background: #c2e7ff; color:#0b57d0; font-weight:600;
    width: fit-content; box-shadow: var(--shadow);
  }
  .compose .material-symbols-outlined{ font-variation-settings: 'wght' 600; }
  
  .nav, .labels{ display:flex; flex-direction:column; gap:2px; }
  .nav-item{
    display:flex; align-items:center; gap:12px;
    padding:8px 10px; border-radius: 18px; color: var(--text);
    text-decoration:none; position:relative;
  }
  .nav-item:hover{ background: var(--bg-hover); }
  .nav-item.active{ background: var(--surface); }
  .nav-item .badge{
    margin-left:auto; font-size:12px; color:#fff; background: var(--badge);
    padding:2px 8px; border-radius:10px;
  }
  .labels-header{
    margin-top:8px; padding:8px 10px; color: var(--subtle);
    display:flex; align-items:center; justify-content:space-between;
  }
  
  .storage{ margin-top:auto; display:flex; flex-direction:column; gap:10px; }
  .storage .bar{
    width:100%; height:8px; background: var(--surface);
    border-radius:6px; overflow:hidden; border: 1px solid var(--border);
  }
  .storage .bar span{
    display:block; height:100%; background: var(--green);
  }
  .storage-meta{
    display:flex; align-items:center; justify-content:space-between;
    color: var(--subtle); font-size:12px;
  }
  .link-like{
    background:none; border:none; color: var(--accent); cursor:pointer; padding:0;
  }
  .upgrade{
    display:flex; gap:8px; align-items:center; justify-content:center;
    border:1px solid var(--border); color: var(--text);
    background: var(--bg-elev); padding:8px 10px; border-radius: 10px; cursor:pointer;
  }
  .upgrade:hover{ background: var(--bg-hover); }
  
  /* Inbox */
  .inbox{ padding: 10px 16px; }
  .inbox-toolbar{
    position: sticky; top:56px; z-index: 10;
    display:flex; align-items:center; justify-content:space-between;
    padding:6px 8px; background: var(--bg); border-bottom:1px solid var(--border);
  }
  .inbox-toolbar .left, .inbox-toolbar .right{
    display:flex; align-items:center; gap:4px;
  }
  .inbox .range{ color: var(--subtle); font-size:12.5px; margin-right:4px; }
  
  .section{ padding:16px 0; }
  .section-toggle{
    display:flex; align-items:center; gap:8px;
    color: var(--subtle); background:none; border:none;
    text-transform:none; letter-spacing:.2px; cursor:pointer; margin: 0 4px 8px;
  }
  .card{
    background: var(--bg-elev); border: 1px solid var(--border);
    border-radius: 12px; padding: 18px; box-shadow: var(--shadow);
  }
  .card.empty{ color: var(--subtle); text-align:center; }
  
  /* Rows */
  .row{
    display:grid; grid-template-columns: 320px 1fr auto;
    align-items:center; gap:12px;
    padding: 10px 12px; border-bottom: 1px solid var(--border);
  }
  .row:hover{ background: var(--bg-hover); }
  .row:last-of-type{ border-bottom: none; }
  .row-left{ display:flex; align-items:center; gap:8px; min-width:0; }
  .row-mid{ display:flex; gap:8px; min-width:0; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; }
  .row-right{ display:flex; align-items:center; gap:8px; }
  
  .sender{ font-weight:600; overflow:hidden; text-overflow:ellipsis; }
  .subject{ font-weight:500; }
  .snippet{ color: var(--subtle); overflow:hidden; text-overflow:ellipsis; }
  .time{ color: var(--subtle); font-size:12px; }
  
  /* Checkbox + star */
  .checkbox{ position:relative; display:inline-flex; align-items:center; }
  .checkbox input{ appearance:none; width:18px; height:18px; margin:0; }
  .checkmark{
    position:absolute; inset:0; border-radius:4px;
    border:1px solid var(--border); background: var(--surface);
  }
  .checkbox input:checked + .checkmark{
    background: var(--accent); border-color: var(--accent);
  }
  .icon-star{
    display:grid; place-items:center; width:28px; height:28px;
    border:none; background: transparent; border-radius:14px; color: var(--subtle); cursor:pointer;
  }
  .icon-star:hover{ background: var(--bg-hover); color: #f6c445; }
  .icon-star .material-symbols-outlined{ font-variation-settings: 'FILL' 1, 'wght' 500; }
  
  
  .footer-note{
    display:flex; align-items:center; gap:12px; color: var(--subtle);
    padding: 14px 6px; font-size:12.5px;
  }
  .footer-note .spacer{ flex:1; }
  .footer-note .link-like{ margin-left:4px; }
  
  
  .right-rail{
    position: sticky; top:56px; height: calc(100vh - 56px);
    display:flex; flex-direction:column; align-items:center; gap:8px;
    padding:8px 6px; border-left:1px solid var(--border); background: var(--bg);
  }
  .rail-btn{
    width:40px; height:40px; border-radius:10px; border:1px solid var(--border);
    background: var(--bg-elev); color: var(--text); display:grid; place-items:center; cursor:pointer;
  }
  .rail-btn:hover{ background: var(--bg-hover); }
  .rail-divider{ width:24px; height:1px; background: var(--border); margin: 4px 0 2px; }
  
  /* Responsive tweaks */
  @media (max-width: 1100px){
    .layout{ grid-template-columns: 70px 1fr 48px; }
    .sidebar{ padding:10px 8px; }
    .compose{ width:40px; height:40px; border-radius:12px; padding:0; justify-content:center; }
    .compose span:not(.material-symbols-outlined){ display:none; }
    .nav-item span:nth-child(2){ display:none; } /* hide labels, keep icons */
    .nav-item .badge{ margin-left:0; }
    .row{ grid-template-columns: 220px 1fr auto; }
  }
  @media (max-width: 720px){
    .right-rail{ display:none; }
    .layout{ grid-template-columns: 70px 1fr; }
    .row{ grid-template-columns: 1fr auto; }
    .row-left .sender{ display:none; }
  }